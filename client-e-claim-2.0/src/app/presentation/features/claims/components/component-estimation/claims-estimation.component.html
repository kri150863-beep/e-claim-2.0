<div class="flex space-x-4 mb-4">
  <button
    (click)="onToggle(ViewType.PART)"
    [class]="`text-sm font-medium ${activeView === ViewType.PART ? 'text-blue-600 border-b-2 border-blue-600' : 'text-gray-500'} cursor-pointer`">
    Parts details
  </button>
  <button
    (click)="onToggle(ViewType.LABOUR)"
    [class]="`text-sm ${activeView === ViewType.LABOUR ? 'text-blue-600 border-b-2 border-blue-600' : 'text-gray-500'} hover:text-gray-700 cursor-pointer`">
    Labour details
  </button>
</div>

<div class="overflow-x-auto">
  <!-- Part details -->
  <table *ngIf="activeView === ViewType.PART" class="min-w-full text-sm border border-gray-200 rounded-lg">
    <thead class="bg-gray-100 text-left text-xs uppercase tracking-wide">
      <tr>
        <th class="px-4 py-2">Part name</th>
        <th class="px-4 py-2">Quantity</th>
        <th class="px-4 py-2">Supplier</th>
        <th class="px-4 py-2">Quality</th>
        <th class="px-4 py-2">Cost (MUR)</th>
        <th class="px-4 py-2">Discount %</th>
        <th class="px-4 py-2">VAT %</th>
        <th class="px-4 py-2">Total (MUR)</th>
      </tr>
    </thead>
    <tbody class="divide-y divide-gray-200">
      <tr *ngFor="let row of partDetails" class="hover:bg-gray-50">
        <td class="px-4 py-2">{{row?.part_name}}</td>
        <td class="px-4 py-2">{{row?.quantity}}</td>
        <td class="px-4 py-2">{{row?.supplier}}</td>
        <td class="px-4 py-2">{{row?.quality}}</td>
        <td class="px-4 py-2">{{row?.cost_part}}</td>
        <td class="px-4 py-2">{{row?.discount_part}}</td>
        <td class="px-4 py-2">{{row?.vat_part}}</td>
        <td class="px-4 py-2">{{row?.part_total}}</td>
      </tr>
      <!-- <tr class="hover:bg-gray-50">
          <td class="px-4 py-2">Bonnet</td>
          <td class="px-4 py-2">1</td>
          <td class="px-4 py-2">BMW</td>
          <td class="px-4 py-2">O.E.M</td>
          <td class="px-4 py-2">30,000.00</td>
          <td class="px-4 py-2">5.00</td>
          <td class="px-4 py-2">15.00</td>
          <td class="px-4 py-2">31,360.00</td>
        </tr> -->
    </tbody>
  </table>

  <!-- Labour details -->
  <table *ngIf="activeView === ViewType.LABOUR" class="min-w-full text-sm border border-gray-200 rounded-lg">
    <thead class="bg-gray-100 text-left text-xs uppercase tracking-wide">
      <tr>
        <th class="px-4 py-2">Part name</th>
        <th class="px-4 py-2">Activity</th>
        <th class="px-4 py-2">Number of hours</th>
        <th class="px-4 py-2">Hourly cost (MUR)</th>
        <th class="px-4 py-2">Discount %</th>
        <th class="px-4 py-2">VAT %</th>
        <th class="px-4 py-2">Total (MUR)</th>
      </tr>
    </thead>
    <tbody class="divide-y divide-gray-200">
      <tr *ngFor="let row of labourDetails" class="hover:bg-gray-50">
        <td class="px-4 py-2">{{row?.part_name}}</td>
        <td class="px-4 py-2">{{row?.activity}}</td>
        <td class="px-4 py-2">{{row?.number_of_hours}}</td>
        <td class="px-4 py-2">{{row?.hourly_const_labour}}</td>
        <td class="px-4 py-2">{{row?.discount_labour}}</td>
        <td class="px-4 py-2">{{row?.vat_labour}}</td>
        <td class="px-4 py-2">{{row?.labour_total}}</td>
      </tr>
    </tbody>
  </table>
</div>

<div class="mt-8 border-t pt-6">
  <h3 class="font-semibold text-lg mb-2">Grand total</h3>
  <!-- <div class="grid grid-cols-4 gap-4 text-sm">
    <div>
      <p class="text-gray-500">Sub total</p>
      <p class="font-medium">Rs 121,380.28</p>
    </div>
    <div>
      <p class="text-gray-500">Discount amount</p>
      <p class="font-medium">Rs 3,403.50</p>
    </div>
    <div>
      <p class="text-gray-500">VAT%</p>
      <p class="font-medium">Rs 15,781.73</p>
    </div>
    <div class="flex items-center justify-between">
      <div>
        <p class="text-gray-500">Total</p>
        <p class="font-semibold text-blue-700">Rs 140,565.50</p>
      </div>
      <button class="text-blue-500"><i class="fas fa-info-circle"></i></button>
    </div>
  </div> -->
  <table class="min-w-full text-sm border border-gray-200 rounded-lg">
    <thead class="bg-gray-100 text-left text-xs uppercase tracking-wide">
      <tr>
        <th class="px-4 py-2">Sub total</th>
        <th class="px-4 py-2">Discount amount</th>
        <th class="px-4 py-2">VAT%</th>
        <th class="px-4 py-2">Total</th>
        <th class="px-4 py-2"></th>
      </tr>
    </thead>
    <tbody class="divide-y divide-gray-200">
      <tr *ngFor="let row of grandTotals" class="hover:bg-gray-50">
        <td class="px-4 py-2">Rs {{row?.subtotal}}</td>
        <td class="px-4 py-2">Rs {{row?.discount_amount}}</td>
        <td class="px-4 py-2">Rs {{row?.vat}}</td>
        <td class="px-4 py-2">Rs {{row?.total}}</td>
        <td class="px-4 py-2"><button class="text-blue-500"><i class="fas fa-info-circle"></i></button></td>
      </tr>
    </tbody>
  </table>
</div>