<nav class="navbar">
    <div class="navbar-left">
        <button class="menu-btn" (click)="toggleSidebar()">
            <mat-icon>format_indent_decrease</mat-icon>
        </button>
    </div>

    <div class="navbar-right">
        <div class="notification">
            <i class="far fa-bell"></i>
            <span class="badge">04</span>
        </div>
        <div class="relative inline-block text-left">
            <div class="user-info cursor-pointer" (click)="toggleDropdown()">
                <div class="avatar">{{currentUser.business_name.charAt(0)}}</div>
                <span>{{currentUser.business_name}}</span>
            </div>
            <!-- Dropdown -->
            <div *ngIf="dropdownOpen"
                class="absolute right-12 mt-6 w-44 rounded-md shadow-lg bg-white ring-1 ring-black/5 z-15 border-gray-100">
                <!-- Arrow / Caret -->
                <div
                    class="absolute top-0 right-4 -mt-2 w-4 h-4 rotate-45 bg-white border-l border-t border-gray-100 z-[-1]">
                </div>

                <div class="py-1 text-sm text-gray-700">
                    <a routerLink="#" (click)="redirectToProfile()"
                        class="flex items-center px-4 py-2  cursor-pointer hover:bg-gray-100 border-b border-gray-100">
                        <mat-icon class="w-5 h-5 mr-2 text-gray-500">person_outline</mat-icon>
                        My profile
                    </a>
                    <a [routerLink]="[]" (click)="openSignOutModal($event)"
                        class="flex items-center px-4 py-2 cursor-pointer hover:bg-gray-100">
                        <mat-icon class="w-5 h-5 mr-2 text-gray-500 rotate-90">power_settings_new</mat-icon>
                        Sign out
                    </a>
                </div>
            </div>
        </div>
    </div>
</nav>

<!-- Modal Backdrop -->
<div *ngIf="showSignOutModal"
    class="fixed pt-20 inset-0 bg-gray-800 bg-opacity-60 flex items-start justify-center z-50">
    <!-- Modal Content -->
    <div class="bg-white rounded-lg shadow-lg p-6 w-[90%] max-w-md relative">
        <!-- Close Button -->
        <button (click)="closeSignOutModal()"
            class="absolute top-3 right-3 cursor-pointer text-gray-500 hover:text-black">&times;</button>

        <!-- Title -->
        <h2 class="text-lg font-semibold mb-2">Sign out</h2>

        <!-- Message -->
        <p class="text-sm text-gray-700 mb-4">Are you sure you want to sign out from SWAN portal?</p>

        <!-- Actions -->
        <div class="flex justify-end gap-3">
            <button (click)="closeSignOutModal()"
                class="px-4 py-2 cursor-pointer border rounded-md text-sm">Cancel</button>
            <button (click)="confirmSignOut()"
                class="px-4 py-2 cursor-pointer bg-[#001F5B] text-white rounded-md text-sm">Yes</button>
        </div>
    </div>
</div>